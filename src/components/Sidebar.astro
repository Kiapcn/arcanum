---
interface Props {
  showOnMobile?: boolean;
}

const { showOnMobile = false } = Astro.props;

const services = [
  {
    title: '‚ú® Vitrine √âclair√©e',
    description: 'Site vitrine optimis√© SEO',
    href: '/services/vitrine-eclairee'
  },
  {
    title: 'üîÅ Automata',
    description: 'Backends automatis√©s',
    href: '/services/automata'
  },
  {
    title: 'ü§ñ Codex IA',
    description: 'Chatbots et outils IA',
    href: '/services/codex-ia'
  },
  {
    title: 'üõçÔ∏è Commercium',
    description: 'E-commerce et affiliation',
    href: '/services/commercium'
  },
  {
    title: 'üéì Initiation',
    description: 'Blog et guides SEO',
    href: '/services/initiation'
  }
];

const recentPosts = [
  {
    title: 'Astuces SEO locales pour artisans',
    href: '/blog/seo-artisans'
  },
  {
    title: 'Automatiser un site immobilier',
    href: '/blog/automation-immobilier'
  },
  {
    title: 'Outils IA pour gagner du temps',
    href: '/blog/outils-ia'
  }
];
---

<aside class={`
  w-64 bg-arcanum-gray/50 backdrop-blur-sm border-r border-arcanum-gold/20 p-6
  ${showOnMobile ? 'block' : 'hidden md:block'}
  transition-all duration-300
`}>
  <!-- Services -->
  <div class="mb-8">
    <h3 class="text-xl font-serif text-arcanum-gold mb-4">Services</h3>
    <ul class="space-y-4">
      {services.map((service) => (
        <li>
          <a
            href={service.href}
            class="block p-3 rounded-lg hover:bg-arcanum-gold/10 transition-colors"
          >
            <h4 class="font-medium text-arcanum-ivory">{service.title}</h4>
            <p class="text-sm text-arcanum-ivory/60">{service.description}</p>
          </a>
        </li>
      ))}
    </ul>
  </div>

  <!-- Articles r√©cents -->
  <div>
    <h3 class="text-xl font-serif text-arcanum-gold mb-4">Articles r√©cents</h3>
    <ul class="space-y-3">
      {recentPosts.map((post) => (
        <li>
          <a
            href={post.href}
            class="text-arcanum-ivory/80 hover:text-arcanum-gold transition-colors"
          >
            {post.title}
          </a>
        </li>
      ))}
    </ul>
  </div>

  <!-- CTA -->
  <div class="mt-8 p-4 bg-arcanum-gold/10 rounded-lg border border-arcanum-gold/20">
    <h4 class="font-serif text-arcanum-gold mb-2">Besoin d'aide ?</h4>
    <p class="text-sm text-arcanum-ivory/80 mb-4">
      Discutons de votre projet et voyons comment je peux vous aider.
    </p>
    <a
      href="/contact"
      class="inline-block px-4 py-2 bg-arcanum-gold text-arcanum-dark rounded-lg hover:bg-arcanum-gold/80 transition-colors"
    >
      Contactez-moi
    </a>
  </div>
</aside>

<script>
  // Toggle sidebar on mobile if needed
  const toggleSidebar = () => {
    const sidebar = document.querySelector('aside');
    if (sidebar) {
      sidebar.classList.toggle('hidden');
    }
  };

  // Add event listener to a button if needed
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('toggle-sidebar');
    if (toggleButton) {
      toggleButton.addEventListener('click', toggleSidebar);
    }
  });
</script> 